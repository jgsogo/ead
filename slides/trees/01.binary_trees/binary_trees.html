
<section data-transition="convex">
    <section>
        <h2>Definici칩n/Concepto</h2>
    </section>

    <section>
        Un <span class="blue">치rbol binario</span> es un 치rbol que, o bien est치 vac칤o (*), 
        o bien consta de un nodo ra칤z con dos sub치rboles binarios, denominados derecho e izquierdo.
        <p class="footnote">(*) Se trata de un artificio para que no exista ambig칲edad a la hora de identificar el sub치rbol izquierdo y derecho.</p>
    </section>

    <section data-background-color="rgb(255, 255, 255)" data-transition="none-out">
        <p>Ejemplo de 치rbol binario</p>
        <img class="stretch" src="slides/trees/01.binary_trees/binary_tree_empty_nodes.dot.png" />
        <p><small>Siempre existe un sub치rbol izquierdo (<code>left</code>) y otro derecho (<code>right</code>), aunque est칠n vac칤os.</small></p>
    </section>

    <section data-background-color="rgb(255, 255, 255)" data-transition="none">
        <p>No representamos los 치rboles vac칤os, PERO</p>
        <img class="stretch" src="slides/trees/01.binary_trees/binary_tree.dot.png" />
        <p><small>...pero est치n ah칤, 춰f칤jate en que las flechas est치n inclinadas!</small></p>
    </section>

    <section>
        <p>De un 치rbol binario vac칤o (치rbol sin nodo ra칤z) se dice que su altura es -1 (*).</p>
        <p class="footnote">(*) Seg칰n c칩mo lo implementes este dato puede ser 칰til o irrelevante.</p>
    </section>
</section>

<section data-transition="convex">
    <section data-state="darken" data-background="slides/trees/00.trees/background-tree1.jpg">
        <h2>Implementaci칩n</h2>
        <h4>츼rboles binarios con C++</h4>
    </section>

    <section data-background-color="rgb(255, 255, 255)">
        <img class="r-stretch" src="slides/trees/01.binary_trees/binary_tree-structs.dot.png"/>
        <p><small>Un 치rbol es una colecci칩n de elementos enlazados que contienen datos y punteros (izquierdo y derecho) a sus hijos. El 치rbol ser치 el puntero al nodo ra칤z.</small></p>
    </section>

    <section data-markdown>
        <script type="text/template">
### `ElementoArbolBinario.h`

Cada elemento contiene datos y punteros a los hijos izquierdo y derecho

```cpp
class ElementoArbolBinario {
    public:
        // Members
        TipoDato dato;
        std::shared_ptr<ElementoArbolBinario> left = nullptr;
        std::shared_ptr<ElementoArbolBinario> right = nullptr;
    public:
        // Constructor 
        ElementoArbolBinario(const TipoDato& dato_) : dato{dato_} {};
};
```
<small>`ElementoArbolBinario.h`</small>
        </script>
    </section>

    <section data-markdown>
        <script type="text/template">
### `BinaryTree.h`

El 치rbol es el puntero al nodo ra칤z y las operaciones que pueden realizarse con 칠l.

```cpp[3,6-7|9-12|13-15]
class BinaryTree {
    protected:
        std::shared_ptr<ElementoArbolBinario> root = nullptr;

    public:
        BinaryTree();  // Creates empty tree
        BinaryTree(const TipoDato& dato);  // Creates tree with root node

        // Member functions (properties of the tree structure)
        int height() const;
        int size() const; // Returns number of nodes

        // A way to add subtrees to an existing tree
        void add_left_subtree(const BinaryTree& subtree);
        void add_right_subtree(const BinaryTree& subtree);
}
```
<!-- .element: class="r-stretch" -->
<small>`BinaryTree.h`</small>

        </script>
    </section>

    <section data-markdown>
        <script type="text/template">
### `BinaryTree.cpp`

La implementaci칩n es _igual_ a la de un 치rbol normal

```cpp

// Constructor for an empty tree
BinaryTree::BinaryTree() {}

// Constructor for a tree with the root node
BinaryTree::BinaryTree(const TipoDato& dato) {
    root = std::make_shared<ElementoArbolBinario>(ElementoArbolBinario{dato});
}

void BinaryTree::add_left_subtree(const BinaryTree& subtree) {
    root->left = subtree.root;
}

void BinaryTree::add_right_subtree(const BinaryTree& subtree) {
    root->right = subtree.root;
}
```
<small>`BinaryTree.cpp`</small>
        </script>
    </section>

    <section data-markdown>
        <script type="text/template">
Altura (recuerda cu치l era la altura del 치rbol vac칤o):

```cpp
#include <algorithm>

int _height(std::shared_ptr<ElementoArbolBinario> element) {
    if (element == nullptr) {
        return -1;
    }
    else {
        int height_left = _height(element->left);
        int height_right = _height(element->right);
        return 1 + std::max(height_left, height_right);
    }
}

int BinaryTree::height() const {
    return _height(root);
}
```
<small>`BinaryTree.cpp`</small>
        </script>
    </section>

    <section data-markdown>
        <script type="text/template">
Tama침o

```cpp
int _size(std::shared_ptr<ElementoArbolBinario> element) {
    if (element->root == nullptr) {
        return 0;
    }
    else {
        int size_left = _size(element->left);
        int size_right = _size(element->right);
        return 1 + size_left + size_right;
    }
}

int BinaryTree::size() const {
    return _size(root);
}
```
<small>`BinaryTree.cpp`</small>
        </script>
    </section>

    <section data-markdown>
        <script type="text/template">
Por supuesto, tambi칠n se pueden visitar/recorrer...

```cpp[11-14|16-17]
class BinaryTree {
    protected:
        std::shared_ptr<ElementoArbolBinario> root = nullptr;

    public:
        BinaryTree();  // Creates empty tree
        BinaryTree(const TipoDato& dato);  // Creates tree with root node

        // ... more functions
        
        // Depth-first search
        void dfs_preorder(std::function<void (TipoDato&)> action) const;
        void dfs_postorder(std::function<void (TipoDato&)> action) const;
        void dfs_inorder(std::function<void (TipoDato&)> action) const;
        
        // Breadth-first search
        void bfs(std::function<void (TipoDato&)> action) const;
}
```
<small>`BinaryTree.h`</small>
        </script>
    </section>
</section>

<section data-transition="convex">
    <section>
        <h2>Variantes</h2>
    </section>
</section>

<section data-transition="convex">
    <section>
        <h2>츼rboles completos</h2>
    </section>
</section>

<section data-transition="convex">
    <section data-background="images/background-actividades.png">
        <h2>Ejercicios propuestos</h2>
    </section>

    <section>
        <h4>游똂 Tu propia biblioteca de TADs: binary_tree</h4>
        <p>Reune el c칩digo relacionado con los 치rboles 치rboles en tu ordenador, junto al de otros TAD</p>
    </section>

    <section>
        <p>Necesitar치s a침adir:</p>
        <ul>
            <li><code>BinaryTree.h</code></li>
            <li><code>BinaryTree.cpp</code></li>
            <li><code>ElementoArbolBinario.h</code></li>
        </ul>
    </section>
</section>

